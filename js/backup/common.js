function e(){const e=navigator.userAgent.toLowerCase(),t=window.innerWidth,o=window.innerHeight,c=t/o,i=document.body;i.classList.remove("device-mobile","device-pad","device-pc");if(/iphone|ipod|android.*mobile|windows phone/.test(e)||(t<=767||t<=900&&o<=500))return i.classList.add("device-mobile"),void s();if(t>=768&&t<=1280&&(c<=1.6&&c>=.5)&&o>=700)return i.classList.add("device-pad"),void s();i.classList.add("device-pc"),n()}window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".drag-scroll-mask, .drag-scroll-overlay");e.forEach((e=>{let t,o,s=!1,n=!1;e.addEventListener("mousedown",(c=>{s=!0,n=!1,t=c.pageX,o=e.scrollLeft,e.classList.add("dragging")})),e.addEventListener("mousemove",(c=>{if(!s)return;const i=c.pageX-t;Math.abs(i)>3&&(n=!0,e.scrollLeft=o-i)})),document.addEventListener("mouseup",(()=>{s&&(e.classList.remove("dragging"),n&&(e.dataset.preventClick="true")),s=!1})),e.addEventListener("click",(t=>{"true"===e.dataset.preventClick&&(t.preventDefault(),t.stopPropagation(),e.dataset.preventClick="false")}),!0),e.addEventListener("scroll",(()=>{const t=e.scrollLeft,o=e.scrollWidth-e.clientWidth;t>10?e.classList.add("left-active"):e.classList.remove("left-active"),t<o-10?e.classList.add("right-active"):e.classList.remove("right-active")})),e.classList.contains("drag-scroll-overlay")&&e.style.setProperty("--drag-height",`${e.offsetHeight}px`),setTimeout((()=>{e.dispatchEvent(new Event("scroll"))}),50)}))})),e(),window.addEventListener("resize",e);const t=new Lenis({smooth:!0,direction:"vertical",gestureDirection:"vertical",smoothTouch:!1,lerp:.08,wheelMultiplier:1.2});function o(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;document.body.removeChild(e),document.documentElement.style.setProperty("--scrollbar",`${t}px`),setTimeout((()=>{const e=parseFloat(getComputedStyle(document.documentElement).fontSize);document.documentElement.style.setProperty("--fz",`${e}px`);const t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)}),50)}function s(){console.log("手機板");const e=document.getElementById("section_news");e&&e.querySelectorAll(".card").forEach((e=>{e.classList.contains("col-6")||e.classList.add("col-6")}))}function n(){const e=document.getElementById("hb_menu");if(!e)return;e.querySelector(".card-list")?.classList.add("row"),e.querySelectorAll(".card").forEach((e=>{e.classList.contains("col-3")||e.classList.add("col-3")}));const t=document.getElementById("section_about");if(!t)return;t.querySelectorAll(".card").forEach((e=>{e.classList.contains("col-4")||e.classList.add("col-4")}));const o=document.getElementById("section_news");o&&o.querySelectorAll(".card").forEach((e=>{e.classList.contains("col-4")||e.classList.add("col-4")}))}requestAnimationFrame((function e(o){t.raf(o),requestAnimationFrame(e)})),window.loadingStart=performance.now(),window.addEventListener("load",(()=>{const e=performance.now()-loadingStart;setTimeout((()=>{document.querySelector("body")?.classList.remove("hidden"),document.querySelector(".mask")?.classList.remove("loading")}),e<500?500-e:0)})),window.addEventListener("load",o),window.addEventListener("resize",o),window.addEventListener("pageshow",o),window.addEventListener("load",(()=>{const e=Array.from(document.querySelectorAll(".to-left, .to-center, .to-right"));function t(){e.forEach((e=>{const t=e.scrollWidth-e.clientWidth,o=e.classList.contains("to-center")?t/2:e.classList.contains("to-right")?t:0;e.scrollLeft=o}))}[300,600].forEach((e=>setTimeout(t,e)))})),document.querySelectorAll("img").forEach((e=>{e.addEventListener("dragstart",(function(e){e.preventDefault()}))})),document.querySelectorAll(".hb-btn").forEach((e=>{e.addEventListener("click",(()=>{document.querySelector(".header-hb")?.classList.toggle("active"),document.body.classList.toggle("modal-open")}))})),function(){const e=function e(t,o=0,s=[]){let n=t,c=o;if(s.some((e=>t.classList.contains(e))))return{deepest:null,depth:-1};for(let i of t.children){const{deepest:t,depth:d}=e(i,o+1,s);d>c&&(n=t,c=d)}return{deepest:n,depth:c}}(document.body,0,["guide"]);e.deepest?(console.log("最深的標籤:",e.deepest.outerHTML),console.log("層級數:",e.depth)):console.log("未找到符合條件的標籤。")}();